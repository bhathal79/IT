(this["webpackJsonpphoto-picker"]=this["webpackJsonpphoto-picker"]||[]).push([[0],{11:function(e,t,i){},25:function(e,t,i){"use strict";i.r(t);var c=i(1),a=i.n(c),n=i(5),s=i.n(n),r=(i(11),i(12),i(2)),o=i(6),d=i.n(o),l=i(0);var h=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),i=t[0],a=t[1],n=Object(c.useState)(""),s=Object(r.a)(n,2),o=s[0],h=s[1],j=Object(c.useState)(!1),b=Object(r.a)(j,2),g=b[0],m=b[1],u=Object(c.useState)(""),v=Object(r.a)(u,2),x=v[0],O=v[1],p=Object(c.useState)({width:300,height:400}),w=Object(r.a)(p,2),f=w[0],N=w[1],C=400;return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)("div",{className:"row mt-4",children:o&&Object(l.jsx)("div",{className:"col-12 text-center",children:Object(l.jsx)("img",{src:o,height:C})})||Object(l.jsxs)("div",{className:"col-12 text-center",children:[i&&Object(l.jsx)("div",{style:{border:"2px dotted red",position:"absolute",height:C,width:300,left:0,right:0,marginLeft:"auto",marginRight:"auto"}}),Object(l.jsx)("video",{style:{border:"1px solid white"},height:C,muted:!0,autoPlay:!0,className:"app__videoFeed"})]})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-12 text-center mt-4",children:[!i&&Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(e){m(!1),h(""),a(!0),navigator.getUserMedia({video:!0},(function(e){var t=document.getElementsByClassName("app__videoFeed")[0];t&&(t.srcObject=e)}),(function(e){return console.error(e)}))},children:"Start"})||Object(l.jsx)("button",{className:"btn btn-success",onClick:function(e){var t=document.createElement("CANVAS"),i=document.getElementsByClassName("app__videoFeed")[0];t.height=i.videoHeight,t.width=i.videoHeight/4*3,t.getContext("2d").drawImage(i,(i.videoWidth-i.videoHeight/4*3)/2,0,i.videoHeight/4*3,i.videoHeight,0,0,i.videoHeight/4*3,i.videoHeight),t.toBlob((function(e){a(!1),document.getElementsByClassName("app__videoFeed")[0].srcObject.getTracks()[0].stop(),h(URL.createObjectURL(e))}),"image/jpeg",.95)},children:"Capture"}),!i&&!!o&&Object(l.jsx)("button",{className:"btn btn-warning ml-2",onClick:function(){return m(!0)},children:"Crop"})]})}),g&&Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-12 text-center",children:[Object(l.jsx)("hr",{}),Object(l.jsx)("h1",{className:"display-4",children:"Crop your image below!"}),Object(l.jsx)("hr",{})]}),Object(l.jsx)("div",{className:"col-5 text-center",children:Object(l.jsx)(d.a,{src:o,crop:f,ruleOfThirds:!0,onComplete:function(e){var t=document.createElement("canvas"),i=document.createElement("img");i.src=o;var c=window.devicePixelRatio,a=i.naturalWidth/i.width,n=i.naturalHeight/i.height,s=t.getContext("2d");t.width=e.width*c*a,t.height=e.height*c*n,s.setTransform(c,0,0,c,0,0),s.imageSmoothingQuality="high",s.drawImage(i,e.x*a,e.y*n,e.width*a,e.height*n,0,0,e.width*a,e.height*n),O(t.toDataURL("image/jpeg"))},onChange:function(e){return N(e)}})}),Object(l.jsx)("div",{className:"col-2 text-center",style:{paddingTop:"100px"},children:Object(l.jsx)("i",{className:"bi bi-arrow-right-square",style:{fontSize:"4rem"}})}),Object(l.jsxs)("div",{className:"col-5 text-center",children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:x})}),Object(l.jsx)("div",{children:Object(l.jsx)("a",{className:"btn btn-info mt-2",download:"Image.png",href:x,role:"button",children:"Download"})})]})]})]})},j=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,26)).then((function(t){var i=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;i(e),c(e),a(e),n(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),j()}},[[25,1,2]]]);
//# sourceMappingURL=main.52659cf1.chunk.js.map